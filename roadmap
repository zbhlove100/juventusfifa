todolist:
1.fix the index bug when no league;
2.add transacion to the complicated sql
3.improve the player managment moudule